{
	"manifest_version": 3,
	"name": "Amazon Vine Helper V3",
	"description": "Improve the Amazon Vine experience.",
	"version": "3.0.0",
	"{{chrome}}.permissions": ["notifications", "sidePanel", "storage"],
	"{{firefox}}.permissions": ["notifications", "storage"],
	"{{firefox}}.browser_specific_settings": {
		"gecko": {
			"id": "{5951bf9a-25ae-4043-9fa2-54dc0ac1ce70}",
			"strict_min_version": "109.0"
		}
	},
	"icons": {
		"32": "src/resource/image/icon-32.png",
		"48": "src/resource/image/icon-48.png",
		"128": "src/resource/image/icon-128.png"
	},
	"action": {
		"default_popup": "src/popup/homepage.html",
		"default_title": "Amazon Vine Helper",
		"default_icon": {
			"32": "src/resource/image/icon-32.png",
			"48": "src/resource/image/icon-48.png",
			"128": "src/resource/image/icon-128.png"
		}
	},
	"{{chrome}}.side_panel": {
		"default_path": "src/page/sidepanel.html"

	},
	"{{firefox}}.sidebar_action": {
		"default_panel": "src/page/sidepanel.html",
		"default_title": "Amazon Vine Helper",
		"default_icon": {
			"16": "src/resource/image/icon-16.png",
			"32": "src/resource/image/icon-32.png",
			"48": "src/resource/image/icon-48.png"
		},
		"open_at_install": false
	},
	"options_ui": {
		"page": "src/popup/homepage.html"
	},
	"web_accessible_resources": [
		{
			"resources": [
				"src/resource/image/*",
				"src/resource/css/vinehelper.css",
				"src/view/*",
				"src/resource/sound/*",
				"src/page/*",
				"node_modules/vine-styling/desktop/*",
				"node_modules/vine-styling/mobile/*",
				"node_modules/debug/src/browser.js",
				"node_modules/bootstrap/dist/*",
				"node_modules/bootstrap-icons/*",
				"src/scripts/inj.js"
			],
			"matches": [
				"https://*.vinehelper.ovh/*",
				"https://*.amazon.ca/*",
				"https://*.amazon.es/*",
				"https://*.amazon.de/*",
				"https://*.amazon.fr/*",
				"https://*.amazon.co.uk/*",
				"https://*.amazon.co.jp/*",
				"https://*.amazon.com/*"
			]
		}
	],
	"background": {
		"{{chrome}}.service_worker": "src/scripts/VHServiceWorker.ts",
		"{{firefox}}.scripts": ["src/scripts/VHServiceWorker.ts"],
		"type": "module"
	},
	"content_security_policy": {
		"extension_pages": "script-src 'self' 'wasm-unsafe-eval'; object-src 'self';"
	},
	"content_scripts": [
		{
			"css": [
				"src/resource/css/grid.css",
				"src/resource/css/icon.css",
				"src/resource/css/main.css",
				"src/resource/css/modal.css",
				"src/resource/css/notification.css",
				"src/resource/css/toolbar.css",
				"src/resource/css/vinehelper.css"
			],
			"js": ["src/scripts/VHContentScript.ts"],
			"matches": [
				"https://*.vinehelper.ovh/*",
				"https://*.amazon.ca/vine/*",
				"https://*.amazon.de/vine/*",
				"https://*.amazon.de/*/vine/*",
				"https://*.amazon.es/vine/*",
				"https://*.amazon.fr/vine/*",
				"https://*.amazon.co.uk/vine/*",
				"https://*.amazon.co.jp/vine/*",
				"https://*.amazon.com/vine/*"
			],
			"run_at": "document_end"
		}
	]
}

