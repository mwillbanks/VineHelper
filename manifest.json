{
	"manifest_version": 3,
	"name": "Amazon Vine Helper",
	"description": "Improve the Amazon Vine experience.",
	"version": "2.4.11",
	"{{chrome}}.permissions": ["notifications", "sidePanel", "storage"],
	"{{firefox}}.permissions": ["notifications", "sidePanel", "storage"],
	"{{firefox}}.browser_specific_settings": {
		"gecko": {
			"id": "{5951bf9a-25ae-4043-9fa2-54dc0ac1ce70}",
			"strict_min_version": "109.0"
		}
	},
	"icons": {
		"32": "resource/image/icon-32.png",
		"48": "resource/image/icon-48.png",
		"128": "resource/image/icon-128.png"
	},
	"action": {
		"default_popup": "popup/homepage.html",
		"default_title": "Amazon Vine Helper",
		"default_icon": "resource/image/icon-48.png"
	},
	"{{chrome}}.side_panel": {
		"default_path": "page/sidepanel.html"

	},
	"{{firefox}}.sidebar_action": {
		"default_panel": "page/sidepanel.html",
		"default_title": "Amazon Vine Helper",
		"default_icon": {
			"16": "resource/image/icon-16.png",
			"32": "resource/image/icon-32.png",
			"48": "resource/image/icon-48.png"
		},
		"open_at_install": false
	},
	"options_ui": {
		"page": "popup/homepage.html"
	},
	"web_accessible_resources": [
		{
			"resources": [
				"resource/image/*",
				"resource/css/vinehelper.css",
				"view/*",
				"resource/sound/*",
				"page/*",
				"node_modules/vine-styling/desktop/*",
				"node_modules/vine-styling/mobile/*",
				"node_modules/debug/src/browser.js",
				"node_modules/bootstrap/dist/*",
				"node_modules/bootstrap-icons/*",
				"scripts/inj.js"
			],
			"matches": [
				"*://*.amazon.ca/*",
				"*://*.amazon.es/*",
				"*://*.amazon.de/*",
				"*://*.amazon.fr/*",
				"*://*.amazon.co.uk/*",
				"*://*.amazon.co.jp/*",
				"*://*.amazon.com/*"
			]
		}
	],
	"background": {
		"{{chrome}}.service_worker": "scripts/vh_service_worker.js",
		"{{firefox}}.scripts": ["scripts/vh_service_worker.js"],
		"type": "module"
	},
	"content_security_policy": {
		"extension_pages": "script-src 'self' 'wasm-unsafe-eval'; object-src 'self';"
	},
	"content_scripts": [
		{
			"css": [
				"resource/css/grid.css",
				"resource/css/icon.css",
				"resource/css/main.css",
				"resource/css/modal.css",
				"resource/css/notification.css",
				"resource/css/toolbar.css",
				"resource/css/vinehelper.css"
			],
			"js": ["scripts/grid.js", "scripts/tile.js", "scripts/toolbar.js", "scripts/bootloader.js"],
			"matches": [
				"*://*.amazon.ca/vine/*",
				"*://*.amazon.de/vine/*",
				"*://*.amazon.de/*/vine/*",
				"*://*.amazon.es/vine/*",
				"*://*.amazon.fr/vine/*",
				"*://*.amazon.co.uk/vine/*",
				"*://*.amazon.co.jp/vine/*",
				"*://*.amazon.com/vine/*"
			],
			"run_at": "document_end"
		},
		{
			"js": [
				"node_modules/jquery/dist/jquery.min.js",
				"scripts/Template.js",
				"scripts/ScreenNotifier.js",
				"scripts/HiddenListMgr.js",
				"scripts/ModalMgr.js",
				"scripts/preboot.js"
			],
			"matches": [
				"*://*.amazon.ca/vine/*",
				"*://*.amazon.de/vine/*",
				"*://*.amazon.de/*/vine/*",
				"*://*.amazon.es/vine/*",
				"*://*.amazon.fr/vine/*",
				"*://*.amazon.co.uk/vine/*",
				"*://*.amazon.co.jp/vine/*",
				"*://*.amazon.com/vine/*"
			],
			"run_at": "document_start"
		},
		{
			"css": ["resource/css/vinehelper.css", "resource/css/main.css"],
			"js": ["scripts/Template.js", "scripts/review.js"],
			"matches": [
				"*://*.amazon.ca/review/create-review*",
				"*://*.amazon.de/review/create-review*",
				"*://*.amazon.de/*/review/create-review*",
				"*://*.amazon.es/review/create-review*",
				"*://*.amazon.fr/review/create-review*",
				"*://*.amazon.co.uk/review/create-review*",
				"*://*.amazon.co.jp/review/create-review*",
				"*://*.amazon.com/review/create-review*"
			],
			"run_at": "document_end"
		}
	]
}

